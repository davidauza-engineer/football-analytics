<div class="step-text">
<p> When you build a database it is more convenient to store information in several tables. Indeed, it avoids redundancy, makes tables easier to maintain, and establishes the right connections between them. Working on real projects, you will often need to use more than one table to get the information you want.</p><p>This is where JOINs come in. In theory, SQL join is a SQL (Structured Query Language) instruction to combine records from two tables based on a search condition. Records are joined when the search condition evaluates to true. The resulting row consists of all the columns from both joined tables.</p><h5 id="types-of-joins">Types of JOINs</h5><p>In a <code class="language-sql">JOIN</code>, there are two tables: the left table and the right table. The left table and the right table are specified in the <code class="language-sql">JOIN</code> clause, and the result of the joining will contain all the rows from the left table and the matching rows from the right table. If there is no match in the right table, the result will contain the non-matching rows from the left table with <code class="language-sql">NULL</code> values for the columns from the right table.</p><p>There are <strong>different types of JOINs</strong> in SQL:</p><ul><li><p><strong>[INNER] JOIN</strong>: for each record from the left table, all records from the right table that satisfy the merge condition will be merged with the original record and added to the resulting table. If no matching records are found in the right table, the original record is also not added to the resulting table (using keyword <code class="language-sql">INNER</code> is optional).</p></li><li><p><strong>LEFT/RIGHT JOIN</strong>: returns all the records from the left/right table and the matching values from the right/left table. If some records in one of the tables (for example, the left one) do not have a match in the other (for example, the right one) table, the corresponding columns in the output of this right table will be assigned <strong>NULLs</strong>.</p></li><li><p><strong>FULL [OUTER] JOIN:</strong> returns all records when there is a match in either the left or the right table. Records that do not have a match are assigned <strong>NULLs </strong>(using keyword <code class="language-sql">OUTER</code> is optional).</p></li></ul><p style="text-align: center;"><picture><img alt="All join types" height="143" src="https://ucarecdn.com/6f5f966e-0868-47a4-bed0-36a84b3c9622/" width="801"/></picture></p><ul><li><p><strong> CROSS JOIN</strong>: joins up every record from the left table and every record in the right table (the algorithm is illustrated in the picture below). Note that we don’t specify the condition on which we join the two tables.</p></li></ul><p style="text-align: center;"><picture><img alt="two table crossover" height="174" src="https://ucarecdn.com/3da743fc-3545-432e-bbea-24066dd24e0e/" width="283"/></picture><picture><source media="(max-width: 480px)" srcset="https://ucarecdn.com/48be4995-db16-485b-82a7-d9b0400b5c62/-/stretch/off/-/resize/480x/-/format/webp/ 1x,https://ucarecdn.com/48be4995-db16-485b-82a7-d9b0400b5c62/-/stretch/off/-/resize/960x/-/format/webp/ 2x,https://ucarecdn.com/48be4995-db16-485b-82a7-d9b0400b5c62/-/stretch/off/-/resize/1440x/-/format/webp/ 3x" type="image/webp"/><source media="(max-width: 800px)" srcset="https://ucarecdn.com/48be4995-db16-485b-82a7-d9b0400b5c62/-/stretch/off/-/resize/800x/-/format/webp/ 1x,https://ucarecdn.com/48be4995-db16-485b-82a7-d9b0400b5c62/-/stretch/off/-/resize/1600x/-/format/webp/ 2x,https://ucarecdn.com/48be4995-db16-485b-82a7-d9b0400b5c62/-/stretch/off/-/resize/2400x/-/format/webp/ 3x" type="image/webp"/><source srcset="https://ucarecdn.com/48be4995-db16-485b-82a7-d9b0400b5c62/-/stretch/off/-/resize/1100x/-/format/webp/ 1x,https://ucarecdn.com/48be4995-db16-485b-82a7-d9b0400b5c62/-/stretch/off/-/resize/2200x/-/format/webp/ 2x,https://ucarecdn.com/48be4995-db16-485b-82a7-d9b0400b5c62/-/stretch/off/-/resize/3000x/-/format/webp/ 3x" type="image/webp"/><img alt="Two table cross result" height="364" src="https://ucarecdn.com/48be4995-db16-485b-82a7-d9b0400b5c62/" width="154"/></picture></p><p>So id1 from table1 gets joined with idA, idB and idC, id2 also gets joined with idA, idB and idC and the same holds true for id3.</p><h5 id="inner-join">INNER JOIN</h5><p>To see how different types of JOINs work, let's consider the following tables: <code class="language-sql">character</code>, <code class="language-sql">pet</code>,<em> </em>and <code class="language-sql">universe</code>.</p><p>The <em>character</em> table has columns named <code class="language-sql">character_id (INT)</code><em>, </em><code class="language-sql">character_name (VARCHAR(30))</code><em>, </em>and <code class="language-sql">universe_id (INT)</code><em>:</em></p><table align="center" border="1" cellpadding="1" cellspacing="1"><tbody><tr><th><p><strong>character_id</strong></p></th><th><p><strong>character_name</strong></p></th><th><p><strong>universe_id</strong></p></th></tr><tr><td><p>1</p></td><td><p>Harry Potter</p></td><td><p>1</p></td></tr><tr><td><p>2</p></td><td><p>Severus Snape</p></td><td><p>1</p></td></tr><tr><td><p>3</p></td><td><p>Voldemort</p></td><td><p>1</p></td></tr><tr><td><p>4</p></td><td><p>Hermione Granger</p></td><td><p>1</p></td></tr><tr><td><p>5</p></td><td><p>Tyrion Lannister</p></td><td><p>2</p></td></tr><tr><td><p>6</p></td><td><p>Daenerys Targaryen </p></td><td><p>2</p></td></tr><tr><td><p>7</p></td><td><p>Argus Filch</p></td><td><p>1</p></td></tr></tbody></table><p>The <code class="language-sql">pet</code> table has columns named <code class="language-sql">character_id (INT)</code>and <code class="language-sql">pet_species (VARCHAR(50))</code>:</p><table align="center" border="1" cellpadding="1" cellspacing="1"><tbody><tr><th><p><strong>character_id</strong></p></th><th><p><strong>pet_species</strong></p></th></tr><tr><td><p>1</p></td><td><p>owl</p></td></tr><tr><td><p>3</p></td><td><p>snake</p></td></tr><tr><td><p>4</p></td><td><p>cat</p></td></tr><tr><td><p>6</p></td><td><p>dragon "Drogo"</p></td></tr><tr><td><p>6</p></td><td><p>dragon "Rhaegal"</p></td></tr><tr><td><p>6</p></td><td><p>dragon "Viserion"</p></td></tr><tr><td><p>8</p></td><td><p>puppy</p></td></tr><tr><td><p>9</p></td><td><p>unicorn</p></td></tr></tbody></table><p>The <code class="language-sql">universe</code><em> </em>table has columns named <code class="language-sql">universe_id (INT)</code><em>, </em><code class="language-sql">universe_name (VARCHAR(30))</code><em>, </em>and <code class="language-sql">author (VARCHAR(30))</code>:</p><table align="center" border="1" cellpadding="1" cellspacing="1"><tbody><tr><th><p><strong>universe_id</strong></p></th><th><p><strong>universe_name</strong></p></th><th><p><strong>author</strong></p></th></tr><tr><td><p>1</p></td><td><p>Harry Potter</p></td><td><p>Joanne Rowling</p></td></tr><tr><td><p>2</p></td><td><p>Game of Thrones</p></td><td><p>George R. R. Martin</p></td></tr></tbody></table><p>The common syntax for <code class="language-sql">INNER JOIN</code> is the following:</p><pre><code class="language-sql">SELECT table1.col_name1, table2.col_name2
FROM table1 [AS a]
INNER JOIN table2 [AS b]
    ON table1.id = table2.id;</code></pre><p>Notice, that the join condition can be some other than <em>equality.</em> The commands in brackets are optional.</p><h5 id="ordering-results-of-inner-join">Ordering results of INNER JOIN</h5><p>Returning to our practical example, imagine you would like to know what pet belongs to what character. To do this, we need to execute the following query:</p><pre><code class="language-sql">SELECT character_name, pet_species 
FROM character 
INNER JOIN pet
    ON character.character_id = pet.character_id
ORDER BY character.character_name;</code></pre><p>The resulting table from this query will be the following:</p><table align="center" border="1" cellpadding="1" cellspacing="1"><tbody><tr><th><p><strong>character_name </strong></p></th><th><p><strong>pet_species</strong></p></th></tr><tr><td><p>Daenerys Targaryen</p></td><td><p>dragon "Drogo"</p></td></tr><tr><td><p>Daenerys Targaryen</p></td><td><p>dragon "Rhaegal"</p></td></tr><tr><td><p>Daenerys Targaryen</p></td><td><p>dragon "Viserion"</p></td></tr><tr><td><p>Harry Potter</p></td><td><p>owl</p></td></tr><tr><td><p>Hermione Granger</p></td><td><p>cat</p></td></tr><tr><td><p>Voldemort</p></td><td><p>snake</p></td></tr></tbody></table><p><br/>However, as you can see, not all characters were included in the result. This happened because some records in the left table didn’t have matches in the right table. In our example not all characters had pets. To fix this problem and include all the characters in the resulting table, we can use <strong>LEFT JOIN</strong>. We've combined information from two tables by matching rows where <code class="language-sql">character_id</code> was the same in the two tables.</p><pre><code class="language-sql">SELECT character_name, pet_species 
FROM character 
LEFT JOIN pet
    ON character.character_id = pet.character_id
ORDER BY character.character_name;</code></pre><table align="center" border="1" cellpadding="1" cellspacing="1"><tbody><tr><th><p><strong>character_name</strong></p></th><th><p><strong>pet_species</strong></p></th></tr><tr><td><p>Argus Filch</p></td><td><p>NULL</p></td></tr><tr><td><p>Daenerys Targaryen</p></td><td><p>dragon "Drogo"</p></td></tr><tr><td><p>Daenerys Targaryen</p></td><td><p>dragon "Rhaegal"</p></td></tr><tr><td><p>Daenerys Targaryen</p></td><td><p>dragon "Viserion"</p></td></tr><tr><td><p>Harry Potter</p></td><td><p>owl</p></td></tr><tr><td><p>Hermione Granger</p></td><td><p>cat</p></td></tr><tr><td><p>Severus Snape</p></td><td><p>NULL</p></td></tr><tr><td><p>Tyrion Lannister</p></td><td><p>NULL</p></td></tr><tr><td><p>Voldemort</p></td><td><p>snake</p></td></tr></tbody></table><p>So far we've worked only with two tables, but we can also join together <strong>multiple tables</strong>. For example, we also want to know which universe our characters come from. As you can see, values that didn’t have matches in the right table were assigned with <code class="language-sql">NULL</code> values.</p><pre><code class="language-sql">SELECT c.character_name, p.pet_species, u.universe_name 
FROM universe AS u
LEFT JOIN character AS c
    ON u.universe_id = c.universe_id
LEFT JOIN pet AS p
    ON p.character_id = c.character_id
</code></pre><table align="center" border="1" cellpadding="1" cellspacing="1"><tbody><tr><th><p><strong>character_name</strong></p></th><th><p><strong>pet_species</strong></p></th><th><p><strong>universe_name</strong></p></th></tr><tr><td><p>Harry Potter</p></td><td><p>owl</p></td><td><p>Harry Potter</p></td></tr><tr><td><p>Severus Snape</p></td><td><p>NULL</p></td><td><p>Harry Potter</p></td></tr><tr><td><p>Voldemort</p></td><td><p>snake</p></td><td><p>Harry Potter</p></td></tr><tr><td><p>Hermione Granger</p></td><td><p>cat</p></td><td><p>Harry Potter</p></td></tr><tr><td><p>Tyrion Lannister</p></td><td><p>NULL</p></td><td><p>Game of Thrones</p></td></tr><tr><td><p>Daenerys Targaryen</p></td><td><p>dragon "Drogo"</p></td><td><p>Game of Thrones</p></td></tr><tr><td><p>Daenerys Targaryen</p></td><td><p>dragon "Rhaegal"</p></td><td><p>Game of Thrones</p></td></tr><tr><td><p>Daenerys Targaryen</p></td><td><p>dragon "Viserion"</p></td><td><p>Game of Thrones</p></td></tr><tr><td><p>Argus Filch</p></td><td><p>NULL</p></td><td><p>Harry Potter</p></td></tr></tbody></table><p>To understand how <strong>CROSS JOINs</strong> may be useful, think of the chess competitions in which organizers of these competitions need to pair up all the participants. Also, note that when selecting columns, it is not mandatory to write <code class="language-sql">table_name1.col_name</code>. If the column name is unique for all tables, you can omit it. However, we still recommend specifying it because the names of the columns become ambiguous when you have multiple tables.</p><p>Note that we can use aliases for table names (please, recall that <strong>SQL aliases</strong> are used to give a table (or a column in a table) a temporary name, for example, <code class="language-sql">SELECT person_name AS name</code>). They are extremely helpful if tables have long names.</p><p>We should also mention that it is not mandatory to use <code class="language-sql">JOIN</code> if you want to connect tables. You can use the <code class="language-sql">WHERE</code> condition to get the same result. Please consider the script below. It would give an identical result to the one above:</p><pre><code class="language-sql">SELECT table1.col_name1, table2.col_name2
FROM table1 [AS a], table2 [AS b]
    WHERE table1.id = table2.id;</code></pre><p>The commands in brackets are optional.</p><h5 id="conclusion">Conclusion</h5><p>To join multiple tables, follow this general template:</p><pre><code class="language-sql">SELECT val1 [AS name1], ..., valN [AS nameN]
FROM table1 
[type_of_join] JOIN  table2 
    ON table1.col_name_table1 = table2.col_name_table2
[type_of_join] JOIN table3
    ON table2.col_name_table2 = table3.col_name_table3;
</code></pre><p>Congratulations! Now you know how to query multiple tables. Let's practice, shall we?</p>
</div>